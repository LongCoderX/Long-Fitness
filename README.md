# Long-Fitness

## 项目目标

这个APP旨在帮助大体重的上班人群形成健康的运动饮食习惯，学会基本的营养学/运动评估的能力。

> 注意：
>
> 1. 这不是一个帮助人们短期进行大量减重的APP，而是希望培养长期习惯，逐步缓慢让身体恢复到正常健康水准。

### 困境

大体重上班人群，目前面临的**困境**在于：

- 个人自由时间较少，且被时间碎片化
- 精力大部分被上班所消耗，导致无法提供大量的精力进行控制体重
- 压力大，容易在饮食上暴饮暴食
- 睡眠障碍
- 缺乏基础的营养学知识
- 对自身的运动能力没有评估，开始大强度的运动导致的受伤

### 方法

我想通过以下的方式，希望对于这些困境的解决有所帮助：

- 运动
  - 利用碎片化的时间进行运动
  - 建立运动的习惯。通过少量精力，培养微习惯，最终形成习惯。
  - 在利用少量的精力，主要提高自身的基本运动能力：力量训练，功能性训练，偶尔的低强度有氧训练。
  - 尽量利用自重训练/随时可以用到的道具进行训练，降低门槛
  - 建立运动动作库
    - 功能性运动库
    - 自重训练库
    - 体态纠正动作库
  - 建立多种运动方案以及饮食方案，通过AI+用户身体状态的因素，进行删减。
- 饮食
  - 生活化饮食方案场景
    - 外出聚餐
    - 点外卖
    - 自带饭
  - 快捷的饮食记录模板
  - 食物营养素查询
- 睡眠
  - 睡眠的评估表格
  - 睡眠指导
- 压力
  - 简单问卷评测压力
  - 详细问卷评测压力
  - 依据压力调节饮食与运动建议
  - 调节压力的训练
- 记忆卡片库
  - 营养学
  - 基本的运动生理学
  - 睡眠相关的知识
  - 人体主要关节学习

## 功能特性详细说明

### 🏠 首页仪表盘
- **个性化欢迎界面**：根据用户信息和时间显示定制化欢迎语
- **健康数据概览**：运动、饮食、睡眠三大核心指标的实时进度展示
- **数据可视化图表**：
  - 热量摄入分析图表（BMR vs 实际摄入对比）
  - 运动进步追踪折线图（多动作系列对比）
  - 睡眠质量评估雷达图（5维度分析）
  - 压力水平趋势面积图（周度变化趋势）
- **今日目标管理**：可交互的目标完成状态跟踪
- **个性化推荐**：基于用户数据的智能健康建议

### 🏃 运动模块详细功能
- **动作库管理系统**：
  - 分类动作库：功能性训练、自重训练、体态纠正
  - 动作详情：图文指导、注意事项、难度分级
  - 动作搜索：按部位、类型、难度快速筛选
- **训练计划制定**：
  - 周计划模板：预设多种训练方案
  - 个性化调整：基于用户能力水平的智能推荐
  - 进度跟踪：训练完成度统计和历史记录
- **碎片化训练支持**：
  - 微训练模式：15-30分钟高效训练方案
  - 计时功能：训练时长和休息时间管理
  - 成就系统：连续训练天数奖励机制
- **运动能力评估**：
  - 基础测试：力量、耐力、柔韧性评估
  - 安全提醒：运动风险预警和建议
  - 进步分析：长期运动能力变化趋势

### 🍎 饮食模块详细功能  
- **快速记录系统**：
  - 餐型分类：早餐、午餐、晚餐、加餐快速入口
  - 模板记录：常用食物组合一键记录
  - 拍照识别：食物图片营养分析（待开发）
- **生活化场景适配**：
  - 外出聚餐：餐厅菜品热量估算指南
  - 点外卖：主流外卖平台营养信息对接
  - 自带饭：便当营养搭配建议
- **营养分析系统**：
  - 实时计算：热量、蛋白质、碳水、脂肪摄入统计
  - 目标对比：每日营养目标完成度显示
  - 饮食建议：基于摄入情况的个性化调整建议
- **食物数据库**：
  - 常见食物营养信息查询
  - 自定义食物添加和管理
  - 品牌食品营养成分数据

### 😴 睡眠模块详细功能
- **睡眠质量评估**：
  - 多维度问卷：入睡时间、睡眠时长、深度睡眠、醒来次数、主观感受
  - 量化评分：综合睡眠质量分数计算
  - 历史对比：周度/月度睡眠趋势分析
- **睡眠指导建议**：
  - 个性化改善方案：基于评估结果的定制建议
  - 睡眠习惯培养：规律作息提醒和跟踪
  - 环境优化建议：卧室环境改善指南
- **睡眠数据可视化**：
  - 雷达图展示：5个维度的睡眠质量分布
  - 趋势图表：睡眠时长和质量变化曲线
  - 对比分析：最佳睡眠模式和实际表现对比

### 😌 压力管理模块详细功能
- **压力测评系统**：
  - 快速测评：3分钟压力水平初步评估
  - 详细测评：全面压力源和影响程度分析
  - 历史记录：压力变化趋势跟踪
- **压力调节机制**：
  - 智能建议：基于压力水平的运动饮食调整
  - 减压训练：呼吸练习、冥想引导、放松技巧
  - 预警系统：高压状态提醒和干预建议
- **压力数据可视化**：
  - 面积图展示：压力强度周度变化
  - 事件标记：重要事件对压力水平的影响
  - 关联分析：压力与睡眠、运动、饮食的关联性

### 📚 知识库模块详细功能
- **记忆卡片系统**：
  - 分类知识：营养学、运动生理学、睡眠科学、解剖学
  - 学习进度：知识掌握程度跟踪和复习提醒
  - 交互学习：卡片翻转、标记掌握、笔记功能
- **结构化内容**：
  - 科学原理：健康知识的理论基础
  - 实践指南：具体操作方法和技巧
  - 常见误区：避免健康管理中的错误做法
- **个性化推荐**：
  - 基于用户需求的知识内容推送
  - 学习路径规划：循序渐进的知识体系
  - 成就系统：学习进度奖励和激励

## 技术架构特色

### 前端技术栈
- **框架**：Vue 3 + TypeScript + Composition API
- **状态管理**：Pinia 用于全局状态管理
- **路由**：Vue Router 4 实现SPA导航
- **图表可视化**：Chart.js 实现专业数据图表
- **UI组件**：自定义组件库，支持响应式设计

### 桌面端特性
- **跨平台框架**：Tauri 2.0 提供原生桌面体验
- **性能优化**：Rust后端确保应用性能
- **本地存储**：利用Tauri文件系统API实现数据持久化
- **系统集成**：桌面通知、系统托盘、快捷键支持

### 设计系统
- **响应式布局**：桌面端和移动端自适应设计
- **图标系统**：统一的SVG图标库，支持多分辨率
- **数据可视化规范**：专业的图表设计标准和配色方案
- **交互设计**：符合人体工学的操作流程和反馈机制

## 开发进度

### ✅ 已完成
- 项目基础框架搭建
- 路由系统和导航组件
- 首页仪表盘基础布局
- 数据可视化图表组件
- 响应式设计系统

### 🚧 进行中
- 运动模块动作库开发
- 饮食记录功能完善
- 睡眠评估问卷实现
- 压力测评系统设计

### 📋 待开发
- 知识库记忆卡片系统
- AI个性化推荐算法
- 高级数据分析和报告
- 社交功能和数据同步

## 网络与数据同步功能

### 🌐 远端数据服务
- **动作库云端同步**：从远端服务器动态获取最新动作数据
- **定期数据更新**：24小时自动检查更新机制
- **增量更新支持**：仅下载变化数据，减少流量消耗
- **API版本管理**：支持多版本API兼容和数据迁移

### 💾 本地缓存系统
- **智能缓存策略**：IndexedDB + LocalStorage混合存储方案
- **数据持久化**：利用Tauri文件系统API实现可靠数据存储
- **缓存生命周期管理**：自动清理过期缓存数据
- **缓存状态监控**：实时显示缓存大小和使用情况

### 🔄 数据同步机制
- **双向同步支持**：云端与本地数据一致性维护
- **冲突解决策略**：智能合并和用户决策结合
- **离线优先设计**：网络不可用时使用本地缓存数据
- **同步状态可视化**：实时显示数据同步进度和状态

### 📶 网络状态管理
- **实时网络检测**：自动识别在线/离线状态
- **网络质量评估**：根据网络状况调整数据策略
- **优雅降级处理**：网络异常时的用户体验保障
- **重试机制**：自动重试失败的请求操作

### 🔐 安全与性能
- **HTTPS加密通信**：确保数据传输安全性
- **数据验证清洗**：防止恶意数据注入
- **性能优化**：数据分页加载和懒加载支持
- **压缩传输**：减少网络数据传输量

## 技术实现细节

### 数据流架构
```
远端服务器 (RESTful API) 
    → 网络层 (Axios HTTP客户端)
    → 缓存层 (IndexedDB + LocalStorage)
    → 状态管理 (Pinia Store)
    → UI组件展示
```

### 缓存策略配置
- **动作库数据**：24小时缓存有效期，增量更新
- **用户数据**：实时同步，冲突解决优先本地
- **静态资源**：长期缓存，版本控制
- **临时数据**：会话级缓存，页面刷新清除

### 错误处理机制
- **网络超时**：30秒自动超时，可配置重试
- **服务器错误**：友好错误提示和重试选项
- **数据格式错误**：数据验证和降级处理
- **存储空间不足**：自动清理和用户提示

## 开发阶段规划

### 第一阶段：基础网络架构（1周）
- HTTP客户端封装和错误处理
- 基本缓存服务实现
- 网络状态检测功能

### 第二阶段：数据同步核心（2周）
- 动作库远端拉取和缓存
- 定期更新检查机制
- 离线功能支持

### 第三阶段：高级功能（1周）
- 增量更新支持
- 冲突解决界面
- 同步状态可视化

### 第四阶段：优化测试（1周）
- 性能优化和内存管理
- 错误边界测试
- 用户体验完善

## 设计理念

本项目采用"数据驱动、用户中心"的设计理念，专注于：
1. **易用性**：简洁直观的界面，降低使用门槛
2. **科学性**：基于营养学和运动科学的准确数据
3. **个性化**：根据用户特征提供定制化方案
4. **可持续性**：培养长期习惯，而非短期效果
5. **跨平台一致性**：桌面端和移动端体验无缝衔接
